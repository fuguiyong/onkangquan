<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>康泉综合门诊缴费中心</title>
  <!-- 新 Bootstrap4 核心 CSS 文件 -->
  <link href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
  <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  <!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
  <script src="https://cdn.bootcss.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
  <!-- alert 插件 -->
  <script src="https://cdn.bootcss.com/limonte-sweetalert2/7.21.1/sweetalert2.all.min.js"></script>
</head>


<body>
  <div class="container"id="container1">
     <div class="jumbotron ">
          <h3 class="text-center">康泉门诊支付中心</h3>
     </div>
  </div>
  <script type="text/javascript">
$(function(){
  function onBridgeReady(){
WeixinJSBridge.invoke(
   'getBrandWCPayRequest',{$jsParam},
   function(res){
       if(res.err_msg == "get_brand_wcpay_request:ok" ) {
         swal({
           title: '支付成功',
           html: '请返回公众号凭缴费凭据在缴费窗口领药，谢谢合作.',
           type:'success',
           allowOutsideClick:false,
           confirmButtonText: '确定',
         }).then(function(){
           //close windows
            WeixinJSBridge.call('closeWindow');
         });
       }     // 使用以上方式判断前端返回,微信团队郑重提示：res.err_msg将在用户支付成功后返回    ok，但并不保证它绝对可靠。
   }
);
}
if (typeof WeixinJSBridge == "undefined"){
if( document.addEventListener ){
   document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
}else if (document.attachEvent){
   document.attachEvent('WeixinJSBridgeReady', onBridgeReady);
   document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
}
}else{
onBridgeReady();
}
});

  </script>
</body>

</html>
